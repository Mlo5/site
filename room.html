<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>ุงูุฏุฑุฏุดุฉ ุงูุนุงูุฉ - M L O 5</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;800&family=Tajawal:wght@400;700&display=swap" rel="stylesheet" />
  <!-- โ Favicon -->
  <link rel="icon" href="./favicon.png?v=2" type="image/png" sizes="32x32" />
  <link rel="icon" href="./favicon.png?v=2" type="image/png" sizes="16x16" />
  <link rel="apple-touch-icon" href="./favicon.png?v=2" />
  <meta name="theme-color" content="#020202" />
  <!-- Chat CSS -->
  <link rel="stylesheet" href="./chat/css/room.css">
  <link rel="stylesheet" href="./chat/radio/radio.css">
</head>

<body data-theme="dark">
  <!-- โ global background layer -->
  <div id="siteBgLayer"></div>

  <div class="bg-grid"></div>
  <div id="onlineOverlay"></div>

  <main class="page">
    <div class="top-bar">
      <div class="top-chip" title="ุญุงูุฉ ุงูุงุชุตุงู">
        <span class="dot" id="connDot"></span>
        <span id="connText">ุบูุฑ ูุชุตู</span>
      </div>

      <div class="title">M L O 5 <small>โข Global Chat</small></div>

      <div style="display:flex;gap:10px;align-items:center">
        <!-- โ ุฒุฑ ุงูุณุฌู ูุธูุฑ ููุฃุฏูู ููุท -->
        <button class="top-chip" id="logBtn" type="button" title="ุณุฌู ุงูุฅุฏุงุฑุฉ" style="display:none;">๐ ุณุฌู</button>

        <!-- โ ุฒุฑ ุฎูููุฉ ุงููููุน (ููุฃุฏูู ููุท) - ุจุฌุงูุจ ุงูุณุฌู -->
        <button class="top-chip" id="bgBtn" type="button" title="ููุญุฉ ุงูุฃุฏูู" style="display:none;">๐ก๏ธ ุฅุฏุงุฑุฉ</button>

            <!-- โ NEW: ุฒุฑ ุงูุฑุงุฏูู (ููุฃุฏูู ููุท) -->
        <button class="top-chip" id="radioBtn" type="button" title="ุฑุงุฏูู" style="display:none;">๐ป ุฑุงุฏูู</button>

        <!-- โ NEW: ุฒุฑ ุงูุซููุงุช (ููุฌููุน) -->
        <button class="top-chip" id="themeBtn" type="button" title="ุซููุงุช">๐๏ธ ุซููุงุช</button>

        <!-- โ ุฒุฑ ุงูุฃููุงู ูุจูู ุนูุฏ ุงููู -->
        <button class="top-chip" id="colorBtn" type="button" title="ุฃููุงู">๐จ ุฃููุงู</button>

        <!-- โ ุฒุฑ ุชุญููู ุฌูุจ ุฎุฑูุฌ (ููุฌููุน) -->
        <button class="top-chip" id="downloadBtn" type="button" title="ุชุญููู ููููุจููุชุฑ">โฌ๏ธ ุชุญููู</button>

        <button class="top-chip" id="exitBtn" type="button" title="ุฎุฑูุฌ ูู ุงูุดุงุช">โฉ ุฎุฑูุฌ</button>
      </div>
    </div>

    <div class="wrap">
      <section class="card onlineCard" id="onlineCard">
        <div class="panel-head">
          <div class="h">
            <b>ุงููุชูุงุฌุฏูู ุงูุขู</b>
            <span>ุงูุนุฏุฏ: <b id="onlineCount">0</b></span>
          </div>

          <div class="statusWrap">
            <span class="badge" id="meBadge">ุฃูุช</span>
            <select id="statusSelect" title="ุบููุฑ ุญุงูุชู">
              <option value="online">๐ข ูุชุตู</option>
              <option value="busy">โ ูุดุบูู</option>
              <option value="work">๐ผ ุจุงูุนูู</option>
              <option value="car">๐ ุจุงูุณูุงุฑุฉ</option>
              <option value="food">๐ ุทุนุงู</option>
              <option value="out">๐ ุจุงูุฎุงุฑุฌ</option>
            </select>
          </div>
        </div>

        <div id="onlineList"></div>
      </section>

      <section class="card chatCard">
        <div class="panel-head">
          <div class="h">
            <b>ุงูุฏุฑุฏุดุฉ ุงูุนุงูุฉ</b>
            <span id="chatHint">ุฏุฑุฏุด ูุฎูู ุงูุดุจุงุจ <span style="color:#facc15">ุชุณุชูุงุฏ</span></span>
          </div>
          <div style="display:flex;align-items:center;gap:8px;flex-wrap:wrap;justify-content:flex-end">
            <button class="badgeBtn" id="openOnlineBtn" type="button" title="ุนุฑุถ ุงููุชูุงุฌุฏูู">๐ฅ ุงููุชูุงุฌุฏูู</button>
            <div class="badge" id="ignoreCount">ุชุฌุงูู: 0</div>
          </div>
        </div>

        <div class="chatSplit" id="chatSplit">
          <div class="chatCol">
            <div id="messages"></div>

            <div class="replyPreview" id="replyPreview">
              <div style="min-width:0">
                <b id="replyPreviewName">ุฑุฏ ุนูู:</b>
                <div><span id="replyPreviewText"></span></div>
              </div>
              <button class="replyCancel" id="replyCancelBtn" type="button" title="ุฅูุบุงุก">โ</button>
            </div>

            <form id="chatForm" class="composer">
              <input id="msgInput" placeholder="ุงูุชุจ ุฑุณุงูุชู..." autocomplete="off" disabled enterkeyhint="send" />
              <button class="adminClearBtn" id="adminClearBtn" type="button" title="ูุณุญ ุงูุดุงุช ููุฌููุน">๐งน</button>
              <button class="emojiBtn" id="emojiBtn" type="button" title="ุฅูููุฌู">๐</button>

              <!-- โ NEW: Mic/Cam (UI only) -->
              <button class="micBtn" id="micBtn" type="button" title="ูุงูู (ูุฑูุจุงู)" aria-label="Mic">๐๏ธ</button>
              <button class="camBtn" id="camBtn" type="button" title="ูุงููุฑุง (ูุฑูุจุงู)" aria-label="Camera">๐ท</button>

              <button class="sendBtn" id="sendBtn" type="submit" disabled>ุฅุฑุณุงู</button>
            </form>
          </div>
        </div>

        <div class="emojiPicker" id="emojiPicker" aria-hidden="true">
          <div class="emojiGrid" id="emojiGrid"></div>
        </div>
      </section>
    </div>
  </main>

  <div id="modal">
    <div id="modalBox">
      <div class="modalGrid">
        <div class="modalCard">
          <button class="homeBackBtn" id="homeBtn" type="button" title="ุงูุฑุฌูุน ููููู">๐</button>
          <button class="backListBtn" id="backListBtn" type="button" title="ุฑุฌูุน">โฉ</button>

          <h3>ุงูุฏุฎูู ุฅูู ุงูุดุงุช</h3>
          <p>( ููุง ููููููุธู ูููู ูููููู ุฅููุง ููุฏููููู ุฑููููุจู ุนูุชููุฏู )</p>

          <div class="choiceRow">
            <button class="choiceBtn" id="chooseLogin" type="button">๐ ุชุณุฌูู ุฏุฎูู</button>
            <button class="choiceBtn" id="chooseGuest" type="button">๐ค ุงูุฏุฎูู ูุถูู</button>
          </div>

          <div id="formBox" style="display:none;">
            <div class="modalRow one">
              <div class="nameWrap">
                <input id="nameInput" placeholder="ุงุณูู (3+)" />
              </div>
            </div>

            <div class="modalRow">
              <select id="genderInput">
                <option value="">ุงูุฌูุณ</option>
                <option value="male">ุฐูุฑ</option>
                <option value="female">ุฃูุซู</option>
              </select>
              <input id="ageInput" type="number" min="10" max="99" placeholder="ุงูุนูุฑ (10+)" />
            </div>

            <!-- โ manual country select -->
            <div class="modalRow one">
              <select id="countryInput" title="ุงูุฏููุฉ">
                <option value="">ุงูุฏููุฉ</option>
                <option value="JO">๐ฏ๐ด ุงูุฃุฑุฏู</option>
                <option value="SA">๐ธ๐ฆ ุงูุณุนูุฏูุฉ</option>
                <option value="AE">๐ฆ๐ช ุงูุฅูุงุฑุงุช</option>
                <option value="KW">๐ฐ๐ผ ุงููููุช</option>
                <option value="QA">๐ถ๐ฆ ูุทุฑ</option>
                <option value="BH">๐ง๐ญ ุงูุจุญุฑูู</option>
                <option value="OM">๐ด๐ฒ ุนููุงู</option>
                <option value="EG">๐ช๐ฌ ูุตุฑ</option>
                <option value="IQ">๐ฎ๐ถ ุงูุนุฑุงู</option>
                <option value="PS">๐ต๐ธ ููุณุทูู</option>
                <option value="LB">๐ฑ๐ง ูุจูุงู</option>
                <option value="SY">๐ธ๐พ ุณูุฑูุง</option>
                <option value="MA">๐ฒ๐ฆ ุงููุบุฑุจ</option>
                <option value="DZ">๐ฉ๐ฟ ุงูุฌุฒุงุฆุฑ</option>
                <option value="TN">๐น๐ณ ุชููุณ</option>
                <option value="LY">๐ฑ๐พ ููุจูุง</option>
                <option value="SD">๐ธ๐ฉ ุงูุณูุฏุงู</option>
                <option value="YE">๐พ๐ช ุงูููู</option>
                <option value="TR">๐น๐ท ุชุฑููุง</option>
                <option value="US">๐บ๐ธ USA</option>
                <option value="GB">๐ฌ๐ง UK</option>
                <option value="DE">๐ฉ๐ช ุฃููุงููุง</option>
                <option value="FR">๐ซ๐ท ูุฑูุณุง</option>
                <option value="CA">๐จ๐ฆ ููุฏุง</option>
              </select>
            </div>

            <!-- โ IMPORTANT:
                 ุชู ุฅุฒุงูุฉ ุงุฎุชูุงุฑ ููู ุงูุงุณู/ุงููุต ูู ุงููุงุฌูุฉุ
                 ููู ุชุฑููุง inputs (hidden) ุจููุณ ุงูู IDs ุญุชู ูุง ูููุณุฑ JS ุฃู ุชุฎุชูู ูุงูุฐุฉ ุงูุฏุฎูู. -->
            <div class="colorRow" style="display:none;">
              <div class="colorBox">
                <span>ููู ุงูุงุณู</span>
                <input id="nameColor" type="color" value="#ffffff" />
              </div>
              <div class="colorBox">
                <span>ููู ุงููุต</span>
                <input id="textColor" type="color" value="#ffffff" />
              </div>
            </div>
            <!-- โ Hidden fallbacks for safety -->
            <input id="nameColorHidden" type="hidden" value="#ffffff" />
            <input id="textColorHidden" type="hidden" value="#ffffff" />

            <button id="enterBtn" class="modalBtn" type="button">ุฏุฎูู ุงูุดุงุช</button>
          </div>

          <div class="hintErr" id="modalErr"></div>
        </div>

        <div class="modalCard">
          <h3>ADMIN</h3>

          <div class="modalRow one">
            <input id="adminUser" placeholder="Username" autocomplete="off" />
          </div>
          <div class="modalRow one">
            <input id="adminPass" placeholder="Password" type="password" autocomplete="off" />
          </div>

          <button id="adminLoginBtn" class="modalBtn" type="button">ุชูุนูู ุงูุฃุฏูู</button>
          <div class="hintErr" id="adminErr"></div>

          <div class="adminNote">
            ุฃุดูุงุก ุดูู ุฎุงุตุฉ ุญุจูุจู โจ๐ฅฑ.<br>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="appModal">
    <div id="appModalBox">
      <div class="appModalTitle" id="appModalTitle">ุชูุจูู</div>
      <div class="appModalText" id="appModalText">โ</div>
      <div class="appModalActions" id="appModalActions"></div>
    </div>
  </div>

  <div class="menu" id="ctxMenu">
    <div id="modActions" style="display:none;">
      <button id="ctxKickBtn">๐ช ุทุฑุฏ</button>
      <button id="ctxMuteBtn">๐ ูุชู</button>
      <button id="ctxUnmuteBtn">๐ ุฅูุบุงุก ุงููุชู</button>
      <button id="ctxBanBtn">โ ุญุธุฑ</button>
      <button id="ctxUnbanBtn">โ ุฅูุบุงุก ุงูุญุธุฑ</button>
      <div class="sep"></div>
    </div>

    <div id="rankActions" style="display:none;">
      <button id="ctxRankLegend">โก Legendary</button>
      <button id="ctxRankVip">๐ VIP</button>
      <button id="ctxRankRoot">๐ก๏ธ ROOT</button>
      <button id="ctxRankGirl">๐ GIRL</button>
      <!-- โ NEW: MASTER -->
      <button id="ctxRankMaster">๐ข MASTER</button>
      <button id="ctxRankNone">๐งฝ ุฅุฒุงูุฉ ุงูุฑุชุจุฉ</button>
    </div>
  </div>

  <!-- โ Admin panel popup (PRO) -->
  <div class="menu" id="adminPanelMenu" aria-hidden="true">
    <button id="adminPanelLog">๐ ุงูุณุฌู</button>

    <div class="sep"></div>
    <button id="adminPanelLock">๐ ููู ุงูุฑูู</button>
    <button id="adminPanelUnlock">๐ ูุชุญ ุงูุฑูู</button>

    <div class="sep"></div>
    <button id="adminPanelBg1">๐ผ๏ธ ุฎูููุฉ 1</button>
    <button id="adminPanelBg2">๐ผ๏ธ ุฎูููุฉ 2</button>
    <button id="adminPanelBg3">๐ผ๏ธ ุฎูููุฉ 3</button>
    <button id="adminPanelBg4">๐ผ๏ธ ุฎูููุฉ 4</button>
    <button id="adminPanelBg5">๐ผ๏ธ ุฎูููุฉ 5</button>
    <button id="adminPanelBg0">๐งฝ ุฅุฒุงูุฉ ุงูุฎูููุฉ</button>

    <div class="sep"></div>
    <button id="adminPanelRadio">๐ป ุงูุฑุงุฏูู</button>
  </div>

  <!-- โ Radio popup -->
  <div class="menu" id="radioMenu" aria-hidden="true">
    <button id="radioPlayBtn">โถ๏ธ ุชุดุบูู</button>
    <button id="radioStopBtn">โน๏ธ ุฅููุงู</button>
    <div class="sep"></div>
    <button id="radioSetUrlBtn">๐ ุชุนููู ุฑุงุจุท</button>
  </div>

  <!-- โ Capsule picker popup (rank/admin) -->
  <div class="menu" id="capsuleMenu" aria-hidden="true">
    <button id="capsulePick1">๐งฉ ูุจุณููุฉ 1</button>
    <button id="capsulePick2">๐งฉ ูุจุณููุฉ 2</button>
    <button id="capsulePick3">๐งฉ ูุจุณููุฉ 3</button>
    <button id="capsulePick4">๐งฉ ูุจุณููุฉ 4</button>
    <button id="capsulePick5">๐งฉ ูุจุณููุฉ 5</button>
    <div class="sep"></div>
    <button id="capsuleReset">๐งฝ ุงูุชุฑุงุถู</button>
  </div>

  <!-- โ Keep old roomMenu for backward compatibility (JS will use adminPanelMenu now) -->
  <div class="menu" id="roomMenu">
    <button id="roomLockBtn">๐ ููู ุงูุฑูู</button>
    <button id="roomUnlockBtn">๐ ูุชุญ ุงูุฑูู</button>

    <div class="sep"></div>
    <button id="selfMuteBtn">๐ ูุชู ููุณู</button>
    <button id="selfUnmuteBtn">๐ ูู ูุชู ููุณู</button>

    <!-- โ global backgrounds (admin only, triggered from top bg button) -->
    <div class="sep"></div>
    <button id="bg1Btn">๐ผ๏ธ ุฎูููุฉ 1</button>
    <button id="bg2Btn">๐ผ๏ธ ุฎูููุฉ 2</button>
    <button id="bg3Btn">๐ผ๏ธ ุฎูููุฉ 3</button>
    <!-- โ NEW -->
    <button id="bg4Btn">๐ผ๏ธ ุฎูููุฉ 4</button>
    <button id="bg5Btn">๐ผ๏ธ ุฎูููุฉ 5</button>

    <button id="bg0Btn">๐งฝ ุฅุฒุงูุฉ ุงูุฎูููุฉ</button>
  </div>

  <!-- โ NEW: Themes Menu (UI only) -->
  <div class="menu" id="themeMenu" aria-hidden="true">
    <button class="themePick" data-theme="dark">๐ Default (Dark)</button>
    <button class="themePick" data-theme="white">โช White</button>
    <button class="themePick" data-theme="pink">๐ธ Pink</button>
    <button class="themePick" data-theme="blue">๐ต Blue</button>
    <button class="themePick" data-theme="anime">โจ Anime</button>
    <button class="themePick" data-theme="gradient">๐ Gradient</button>

    <div class="sep"></div>
    <button class="themePick" data-theme="rank" data-req="rank">๐ท๏ธ Rank Exclusive</button>
    <button class="themePick" data-theme="adminGlobal" data-req="admin">๐ก๏ธ Admin Global</button>
  </div>

  <script type="module" src="./chat/js/room.js"></script>
  <script src="./chat/radio/radio.js"></script>
</body>
</html>

