<!DOCTYPE html>

<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<title>Ø§ØªØµÙ„ Ø¨Ù†Ø§ - M L O 5</title>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;800&amp;family=Tajawal:wght@400;700&amp;display=swap" rel="stylesheet"/>
<style>
    :root {
      --bg-dark: #020202;
      --yellow: #facc15;
      --white: #f9fafb;
      --muted: #9ca3af;
      --border-subtle: rgba(156, 163, 175, 0.35);
      --radius-lg: 20px;
      --radius-full: 999px;
      --grid-x: 0px;
      --grid-y: 0px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Tajawal", system-ui, -apple-system, BlinkMacSystemFont,
        "Segoe UI", sans-serif;
      background: var(--bg-dark);
      color: var(--white);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: stretch;
      position: relative;
      padding: 16px;
      cursor: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32'><polygon points='2,2 2,22 8,16 14,26 18,24 12,14 20,14' fill='%23facc15' stroke='%23000000' stroke-width='1.5'/></svg>") 0 0, auto;
    }

    .bg-grid {
      position: fixed;
      inset: 0;
      z-index: 0;
      pointer-events: none;
      background-image: radial-gradient(
        circle,
        rgba(249, 250, 251, 0.55) 1px,
        transparent 1px
      );
      background-size: 30px 30px;
      background-position:
        calc(50% + var(--grid-x))
        calc(50% + var(--grid-y));
      opacity: 0.25;
      mix-blend-mode: screen;
    }

    .page {
      position: relative;
      z-index: 1;
      width: 100%;
      max-width: 900px;
      margin: auto;
    }

    /* Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ */
    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 18px;
      gap: 10px;
      flex-wrap: wrap;
    }

    .back-link {
      font-size: 0.85rem;
      color: var(--muted);
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(10, 10, 10, 0.9);
      border: 1px solid rgba(30, 30, 30, 0.95);
      box-shadow:
        0 8px 20px rgba(0, 0, 0, 0.7),
        0 0 0 1px rgba(0, 0, 0, 0.9);
      transition: background 0.15s ease, transform 0.15s ease;
    }

    .back-link:hover {
      background: rgba(20, 20, 20, 0.95);
      transform: translateY(-1px);
    }

    .lang-toggle {
      width: 36px;
      height: 36px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: radial-gradient(circle at top, #111111, #020202);
      color: var(--yellow);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 1rem;
      box-shadow:
        0 10px 24px rgba(0, 0, 0, 0.9),
        0 0 0 1px rgba(0, 0, 0, 0.9);
      transition:
        background 0.15s ease,
        transform 0.15s ease,
        box-shadow 0.15s ease;
    }

    .lang-toggle:hover {
      transform: translateY(-1px);
      background: radial-gradient(circle at top, #facc15, #fbbf24);
      color: #000;
      box-shadow:
        0 14px 30px rgba(0, 0, 0, 1),
        0 0 0 1px rgba(250, 204, 21, 0.8);
    }

    /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
    .page-header {
      margin-bottom: 16px;
    }

    .page-title {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--white);
      margin-bottom: 4px;
    }

    .page-subtitle {
      font-size: 0.9rem;
      color: var(--muted);
    }

    /* Ø§Ù„ÙƒØ§Ø±Ø¯ */
    .card {
      background: radial-gradient(circle at top, #111111, #020202);
      border-radius: 22px;
      border: 1px solid rgba(20,20,20,0.95);
      box-shadow:
        0 18px 45px rgba(0, 0, 0, 0.95),
        0 0 0 1px rgba(0, 0, 0, 0.95);
      padding: 18px 16px 16px;
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: -40%;
      background: radial-gradient(
        circle at top,
        rgba(250, 204, 21, 0.16),
        transparent 55%
      );
      opacity: 0.7;
      pointer-events: none;
      mix-blend-mode: screen;
    }

    .card-inner {
      position: relative;
      z-index: 1;
    }

    .card-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 0.9fr);
      gap: 16px;
    }

    @media (max-width: 800px) {
      .card-grid {
        grid-template-columns: 1fr;
      }
    }

    /* Ø§Ù„ÙÙˆØ±Ù… */
    .form {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .form-row {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .label {
      font-size: 0.85rem;
      color: var(--muted);
    }

    .input,
    .textarea {
      background: rgba(10,10,10,0.96);
      border-radius: 999px;
      border: 1px solid rgba(35,35,35,0.96);
      padding: 8px 14px;
      font-size: 0.9rem;
      color: var(--white);
      outline: none;
      width: 100%;
      transition: border-color 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
    }

    .textarea {
      border-radius: 16px;
      min-height: 110px;
      resize: vertical;
      padding-top: 10px;
    }

    .input::placeholder,
    .textarea::placeholder {
      color: rgba(148,163,184,0.75);
    }

    .input:focus,
    .textarea:focus {
      border-color: rgba(250,204,21,0.9);
      box-shadow:
        0 0 0 1px rgba(250,204,21,0.7),
        0 0 0 6px rgba(250,204,21,0.18);
      background: rgba(12,12,12,0.98);
    }

    .btn {
      margin-top: 4px;
      padding: 9px 18px;
      border-radius: 999px;
      border: 2px solid #000;
      background: #facc15;
      color: #111827;
      font-weight: 700;
      font-size: 0.9rem;
      cursor: pointer;
      box-shadow: 0 8px 20px rgba(0,0,0,0.6);
      transition: transform 0.15s ease, box-shadow 0.15s ease, filter 0.15s ease;
      align-self: flex-start;
    }

    .btn:hover {
      transform: translateY(-1px);
      filter: brightness(1.05);
      box-shadow: 0 12px 28px rgba(0,0,0,0.75);
    }

    .btn:active {
      transform: translateY(0);
      box-shadow: 0 6px 16px rgba(0,0,0,0.8);
    }

    .error-text {
      font-size: 0.78rem;
      color: #f97373;
      min-height: 14px;
    }

    .success-text {
      font-size: 0.8rem;
      color: #22c55e;
      min-height: 16px;
      margin-top: 4px;
    }

    /* Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ */
    .contact-box {
      border-radius: 18px;
      border: 1px solid rgba(55,65,81,0.7);
      background: rgba(7, 10, 18, 0.96);
      padding: 10px 12px;
      box-shadow:
        0 10px 26px rgba(0, 0, 0, 0.85),
        0 0 0 1px rgba(15, 23, 42, 1);
      font-size: 0.85rem;
      color: var(--muted);
    }

    .contact-title {
      font-size: 0.95rem;
      color: var(--yellow);
      margin-bottom: 6px;
      font-weight: 700;
    }

    .contact-row {
      margin-bottom: 6px;
    }

    .contact-label {
      font-weight: 600;
      font-size: 0.82rem;
      color: var(--white);
    }

    .contact-value {
      font-size: 0.82rem;
      color: var(--muted);
    }

    .contact-note {
      margin-top: 6px;
      font-size: 0.78rem;
      color: var(--muted);
    }

    /* âœ… Ø³Ø¨ÙŠÙ†Ø± + Ù‚ÙÙ„ Ø²Ø± Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ */
    .btn.loading {
      pointer-events: none;
      opacity: 0.9;
    }
    .btn.loading::after {
      content: "";
      width: 14px;
      height: 14px;
      border-radius: 50%;
      border: 2px solid rgba(0,0,0,0.25);
      border-top-color: #000;
      display: inline-block;
      margin-inline-start: 8px;
      animation: spin 0.7s linear infinite;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* âœ… Human check UI */
    .human-check {
      margin-top: 10px;
      padding: 12px;
      border: 1px solid rgba(156, 163, 175, 0.22);
      border-radius: 18px;
      background: rgba(10,10,10,0.86);
      box-shadow: 0 10px 26px rgba(0,0,0,0.55);
    }
    .hc-row {
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
      user-select: none;
      color: var(--white);
    }
    .hc-row input { width: 18px; height: 18px; accent-color: var(--yellow); }
    .hc-math { margin-top: 10px; }
    .hc-inline { display: flex; gap: 10px; align-items: center; margin-top: 6px; flex-wrap: wrap; }
    #humanAnswer {
      width: 120px;
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid rgba(35,35,35,0.96);
      background: rgba(10,10,10,0.96);
      color: var(--white);
      outline: none;
    }
    #humanAnswer:focus {
      border-color: rgba(250,204,21,0.9);
      box-shadow:
        0 0 0 1px rgba(250,204,21,0.7),
        0 0 0 6px rgba(250,204,21,0.18);
    }
    .hint { display: block; margin-top: 6px; font-size: 0.78rem; color: var(--muted); min-height: 16px; }
    .cooldown-note { font-size: 0.8rem; color: var(--muted); min-height: 16px; margin-top: 4px; }

    /* âœ… Modal */
    .modal { position: fixed; inset: 0; display: none; z-index: 9999; }
    .modal[aria-hidden="false"] { display: block; }
    .modal-backdrop {
      position: absolute; inset: 0;
      background: rgba(0,0,0,0.65);
      backdrop-filter: blur(8px);
    }
    .modal-card {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      width: min(520px, calc(100% - 28px));
      padding: 18px 18px 14px;
      border-radius: 22px;
      border: 1px solid rgba(20,20,20,0.95);
      background: radial-gradient(circle at top, #111111, #020202);
      box-shadow:
        0 18px 55px rgba(0,0,0,0.95),
        0 0 0 1px rgba(0,0,0,0.95);
      overflow: hidden;
    }
    .modal-card::before{
      content:"";
      position:absolute;
      inset:-40%;
      background: radial-gradient(circle at top, rgba(250, 204, 21, 0.16), transparent 55%);
      opacity: .7;
      pointer-events:none;
      mix-blend-mode: screen;
    }
    .modal-inner{ position: relative; z-index: 1; }
    .modal-card h3 { margin: 0 0 8px; font-size: 1.05rem; color: var(--white); }
    .modal-card p { margin: 0 0 14px; opacity: .9; line-height: 1.8; color: var(--muted); }
    .modal-actions { display: flex; justify-content: flex-end; gap: 10px; }

    .modal-x{
      position:absolute;
      top:10px;
      left:10px;
      width: 36px; height: 36px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      background: rgba(10,10,10,0.9);
      color: var(--yellow);
      cursor: pointer;
      z-index: 2;
      transition: transform .15s ease, background .15s ease;
    }
    .modal-x:hover{ transform: translateY(-1px); background: rgba(20,20,20,0.95); }
    .modal-btn{
      padding: 9px 16px;
      border-radius: 999px;
      border: 2px solid #000;
      background: var(--yellow);
      color: #111827;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 8px 20px rgba(0,0,0,0.6);
      transition: transform .15s ease, box-shadow .15s ease, filter .15s ease;
    }
    .modal-btn:hover{ transform: translateY(-1px); filter: brightness(1.05); box-shadow: 0 12px 28px rgba(0,0,0,0.75); }
    .modal-btn:active{ transform: translateY(0); box-shadow: 0 6px 16px rgba(0,0,0,0.8); }

  </style>
</head>
<body>
<div class="bg-grid"></div>
<main class="page">
<!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ -->
<div class="top-bar">
<a class="back-link" href="index.html" id="back-link">
        â† Ø¹ÙˆØ¯Ø© Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
      </a>
<button class="lang-toggle" id="lang-toggle" title="Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©">
        ğŸŒ
      </button>
</div>
<!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
<header class="page-header">
<h1 class="page-title" id="page-title">Ø§ØªØµÙ„ Ø¨ÙŠ</h1>
<p class="page-subtitle" id="page-subtitle">
        Ø¹Ù†Ø¯Ùƒ Ø³Ø¤Ø§Ù„ØŒ ÙÙƒØ±Ø© ØªØ¹Ø§ÙˆÙ†ØŒ Ø£Ùˆ Ø§Ù‚ØªØ±Ø§Ø­ Ù„Ù„Ù…Ø­ØªÙˆÙ‰ØŸ Ø§Ø¨Ø¹ØªÙ„ÙŠ Ø±Ø³Ø§Ù„Ø© Ù…Ù† Ù‡Ù†Ø§ Ù…Ø¨Ø§Ø´Ø±Ø©.
      </p>
</header>
<!-- Ø§Ù„ÙƒØ§Ø±Ø¯ -->
<section class="card">
<div class="card-inner">
<div class="card-grid">
<!-- Ø§Ù„ÙÙˆØ±Ù… -->
<form accept-charset="UTF-8" action="https://formspree.io/f/xeoypvvj" class="form" id="contact-form" method="POST" novalidate="">
  <input id="hidden-subject" name="_subject" type="hidden" value="New message from MLO5 contact form"/>

  <!-- âœ… Honeypot anti-spam (Ø¨ÙˆØªØ§Øª Ø¨ØªØ¹Ø¨ÙŠÙ‡ØŒ Ø§Ù„Ø¥Ù†Ø³Ø§Ù† Ù„Ø§) -->
  <input type="text" name="website" tabindex="-1" autocomplete="off" style="display:none">

  <div class="form-row">
    <label class="label" for="name" id="label-name">Ø§Ù„Ø§Ø³Ù…</label>
    <input autocomplete="name" class="input" id="name" name="name" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ" required="" type="text"/>
    <div class="error-text" id="error-name"></div>
  </div>

  <div class="form-row">
    <label class="label" for="email" id="label-email">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
    <input autocomplete="email" class="input" id="email" name="email" placeholder="ih4.mlo5@gmail.com" required="" type="email"/>
    <div class="error-text" id="error-email"></div>
  </div>

  <div class="form-row">
    <label class="label" for="subject" id="label-subject">Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø±Ø³Ø§Ù„Ø©</label>
    <input autocomplete="off" class="input" id="subject" name="subject" placeholder="Ù…Ø«Ù„Ø§Ù‹: Ø§Ù‚ØªØ±Ø§Ø­ Ù„ÙÙŠØ¯ÙŠÙˆØŒ ØªØ¹Ø§ÙˆÙ†ØŒ Ø§Ø³ØªÙØ³Ø§Ø±..." required="" type="text"/>
    <div class="error-text" id="error-subject"></div>
  </div>

  <div class="form-row">
    <label class="label" for="message" id="label-message">Ø§Ù„Ø±Ø³Ø§Ù„Ø©</label>
    <textarea autocomplete="off" class="textarea" id="message" name="message" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ø¨Ø§Ù„ØªÙØµÙŠÙ„â€¦" required=""></textarea>
    <div class="error-text" id="error-message"></div>
  </div>

  <!-- âœ… Human check (Ø¨Ø¯ÙˆÙ† backend) -->
  <div class="human-check">
    <label class="hc-row">
      <input id="humanBox" type="checkbox" required />
      <span id="human-text">Ø£Ù†Ø§ Ø¥Ù†Ø³Ø§Ù† âœ…</span>
    </label>

    <div class="hc-math">
      <label class="label" for="humanAnswer" id="human-q-label">Ø³Ø¤Ø§Ù„ Ø³Ø±ÙŠØ¹ Ø¶Ø¯ Ø§Ù„Ø¨ÙˆØªØ§Øª:</label>
      <div class="hc-inline">
        <span id="mathQ">â€”</span>
        <input id="humanAnswer" name="human_answer" type="text" inputmode="numeric" autocomplete="off" required />
      </div>
      <small id="hcHint" class="hint">Ø¬Ø§ÙˆØ¨ Ø§Ù„Ø³Ø¤Ø§Ù„ ÙˆØ¨Ø¹Ø¯ÙŠÙ† Ø§Ø¨Ø¹Ø«.</small>
    </div>

    <input type="hidden" id="jsProof" name="js_proof" value="" />
  </div>

  <!-- Cooldown message -->
  <div id="cooldownNote" class="cooldown-note" aria-live="polite"></div>

  <button class="btn" id="send-btn" type="submit">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©</button>

  <div class="success-text" id="success-message"></div>
</form>

<!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© -->
<div class="contact-box">
<div class="contact-title" id="contact-title">
              Ø·Ø±Ù‚ ØªÙˆØ§ØµÙ„ Ø£Ø®Ø±Ù‰
            </div>
<div class="contact-row">
<div class="contact-label" id="contact-email-label">Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ Ø§Ù„Ø±Ø³Ù…ÙŠ:</div>
<div class="contact-value" id="contact-email-value">
                ih4.mlo5@gmail.com
              </div>
</div>
<div class="contact-row">
<div class="contact-label" id="contact-social-label">Ø§Ù„Ø³ÙˆØ´Ø§Ù„ Ù…ÙŠØ¯ÙŠØ§:</div>
<div class="contact-value" id="contact-social-value">
                YouTube Â· Instagram Â· TikTok (ØªÙ‚Ø¯Ø± ØªØ¹Ø¯Ù‘Ù„ Ø§Ù„Ù†Øµ Ù„Ø§Ø­Ù‚Ù‹Ø§)
              </div>
</div>
<div class="contact-note" id="contact-note">
              Ù…Ù„Ø§Ø­Ø¸Ø©: Ø¥Ø°Ø§ ÙˆØ§Ø¬Ù‡Øª Ø³Ø¨Ø§Ù…ØŒ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ù…Ø­Ù…ÙŠ Ø¨Ù€ Honeypot + ØªØ­Ù‚Ù‚ Ø¨Ø³ÙŠØ· + ØªØ£Ø®ÙŠØ± 45 Ø«Ø§Ù†ÙŠØ© Ø¨ÙŠÙ† ÙƒÙ„ Ø¥Ø±Ø³Ø§Ù„.
            </div>
</div>
</div>
</div>
</section>
</main>

<!-- âœ… Success Modal -->
<div id="successModal" class="modal" aria-hidden="true">
  <div class="modal-backdrop" data-close="1"></div>

  <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <button class="modal-x" type="button" aria-label="Ø¥ØºÙ„Ø§Ù‚" data-close="1">Ã—</button>
    <div class="modal-inner">
      <h3 id="modalTitle">âœ… ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­</h3>
      <p id="modalMsg">ÙˆØµÙ„ØªÙ†ÙŠ Ø±Ø³Ø§Ù„ØªÙƒ. Ø±Ø­ Ø£Ø±Ø¯ Ø¹Ù„ÙŠÙƒ Ø¨Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª.</p>
      <div class="modal-actions">
        <button type="button" class="modal-btn" data-close="1" id="modalOkBtn">ØªÙ…Ø§Ù…</button>
      </div>
    </div>
  </div>
</div>

<script>
    // ØªØ­Ø±ÙŠÙƒ Ø´Ø¨ÙƒØ© Ø§Ù„Ù†Ù‚Ø§Ø·
    const root = document.documentElement;
    document.addEventListener("mousemove", (e) => {
      const xRatio = e.clientX / window.innerWidth - 0.5;
      const yRatio = e.clientY / window.innerHeight - 0.5;
      const maxShift = 40;
      const xShift = xRatio * maxShift;
      const yShift = yRatio * maxShift;
      root.style.setProperty("--grid-x", xShift.toFixed(1) + "px");
      root.style.setProperty("--grid-y", yShift.toFixed(1) + "px");
    });

    // Ù„ØºØ© Ø§Ù„Ù…ÙˆÙ‚Ø¹
    const LANG_KEY = "mlo5-lang";
    const langToggle = document.getElementById("lang-toggle");

    const l10n = {
      ar: {
        back: "â† Ø¹ÙˆØ¯Ø© Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©",
        title: "Ø§ØªØµÙ„ Ø¨ÙŠ",
        subtitle: "Ø¹Ù†Ø¯Ùƒ Ø³Ø¤Ø§Ù„ØŒ ÙÙƒØ±Ø© ØªØ¹Ø§ÙˆÙ†ØŒ Ø£Ùˆ Ø§Ù‚ØªØ±Ø§Ø­ Ù„Ù„Ù…Ø­ØªÙˆÙ‰ØŸ Ø§Ø¨Ø¹ØªÙ„ÙŠ Ø±Ø³Ø§Ù„Ø© Ù…Ù† Ù‡Ù†Ø§ Ù…Ø¨Ø§Ø´Ø±Ø©.",
        labelName: "Ø§Ù„Ø§Ø³Ù…",
        labelEmail: "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",
        labelSubject: "Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø±Ø³Ø§Ù„Ø©",
        labelMessage: "Ø§Ù„Ø±Ø³Ø§Ù„Ø©",
        placeholderName: "Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ",
        placeholderEmail: "ih4.mlo5@gmail.com",
        placeholderSubject: "Ù…Ø«Ù„Ø§Ù‹: Ø§Ù‚ØªØ±Ø§Ø­ Ù„ÙÙŠØ¯ÙŠÙˆØŒ ØªØ¹Ø§ÙˆÙ†ØŒ Ø§Ø³ØªÙØ³Ø§Ø±...",
        placeholderMessage: "Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ø¨Ø§Ù„ØªÙØµÙŠÙ„â€¦",
        errorName: "Ø§Ù„Ø§Ø³Ù… Ù„Ø§Ø²Ù… ÙŠÙƒÙˆÙ† 2 Ø£Ø­Ø±Ù Ø£Ùˆ Ø£ÙƒØ«Ø±.",
        errorEmail: "Ø±Ø¬Ø§Ø¡Ù‹ Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØµØ­ÙŠØ­.",
        errorSubject: "Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù„Ø§Ø²Ù… ÙŠÙƒÙˆÙ† 3 Ø£Ø­Ø±Ù Ø£Ùˆ Ø£ÙƒØ«Ø±.",
        errorMessage: "Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù„Ø§Ø²Ù… ØªÙƒÙˆÙ† 10 Ø£Ø­Ø±Ù Ø£Ùˆ Ø£ÙƒØ«Ø±.",
        sendBtn: "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©",
        sending: "Ø¬Ø§Ø±Ù Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...",
        success: "âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­! Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙˆØ§ØµÙ„Ùƒ.",
        fail: "Failed to send.",
        contactTitle: "Ø·Ø±Ù‚ ØªÙˆØ§ØµÙ„ Ø£Ø®Ø±Ù‰",
        contactEmailLabel: "Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ Ø§Ù„Ø±Ø³Ù…ÙŠ:",
        contactEmailValue: "ih4.mlo5@gmail.com",
        contactSocialLabel: "Ø§Ù„Ø³ÙˆØ´Ø§Ù„ Ù…ÙŠØ¯ÙŠØ§:",
        contactSocialValue: "YouTube Â· Instagram Â· TikTok (ØªÙ‚Ø¯Ø± ØªØ¹Ø¯Ù‘Ù„ Ø§Ù„Ù†Øµ Ù„Ø§Ø­Ù‚Ù‹Ø§)",
        contactNote: "Ù…Ù„Ø§Ø­Ø¸Ø©: Ø¥Ø°Ø§ ÙˆØ§Ø¬Ù‡Øª Ø³Ø¨Ø§Ù…ØŒ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ù…Ø­Ù…ÙŠ Ø¨Ù€ Honeypot + ØªØ­Ù‚Ù‚ Ø¨Ø³ÙŠØ· + ØªØ£Ø®ÙŠØ± 45 Ø«Ø§Ù†ÙŠØ© Ø¨ÙŠÙ† ÙƒÙ„ Ø¥Ø±Ø³Ø§Ù„.",
        langTitle: "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",
        pageTitle: "Ø§ØªØµÙ„ Ø¨Ù†Ø§ - M L O 5",

        humanText: "Ø£Ù†Ø§ Ø¥Ù†Ø³Ø§Ù† âœ…",
        humanQLabel: "Ø³Ø¤Ø§Ù„ Ø³Ø±ÙŠØ¹ Ø¶Ø¯ Ø§Ù„Ø¨ÙˆØªØ§Øª:",
        humanHint: "Ø¬Ø§ÙˆØ¨ Ø§Ù„Ø³Ø¤Ø§Ù„ ÙˆØ¨Ø¹Ø¯ÙŠÙ† Ø§Ø¨Ø¹Ø«.",
        cooldownWait: (n) => `Ø§Ø³ØªÙ†Ù‰ ${n} Ø«Ø§Ù†ÙŠØ© Ù‚Ø¨Ù„ Ù…Ø§ ØªØ¨Ø¹Ø« Ù…Ø±Ø© Ø«Ø§Ù†ÙŠØ©.`,
        modalTitle: "âœ… ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­",
        modalMsg: "ÙˆØµÙ„ØªÙ†ÙŠ Ø±Ø³Ø§Ù„ØªÙƒ. Ø±Ø­ Ø£Ø±Ø¯ Ø¹Ù„ÙŠÙƒ Ø¨Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª.",
        modalOk: "ØªÙ…Ø§Ù…",
        humanWrong: "Ø¬ÙˆØ§Ø¨ Ø§Ù„Ø³Ø¤Ø§Ù„ ØºÙ„Ø· ğŸ˜… Ø¬Ø±Ù‘Ø¨ Ù…Ø±Ø© Ø«Ø§Ù†ÙŠØ©.",
        humanNeedCheck: "ÙØ¹Ù‘Ù„ Ù…Ø±Ø¨Ø¹ (Ø£Ù†Ø§ Ø¥Ù†Ø³Ø§Ù†) âœ…",
        fastFill: "Ø§Ø³ØªÙ†Ù‰ Ø«Ø§Ù†ÙŠØªÙŠÙ†â€¦ ÙˆØ¨Ø¹Ø¯ÙŠÙ† Ø§Ø¨Ø¹Ø« (Ø­Ù…Ø§ÙŠØ© Ø¶Ø¯ Ø§Ù„Ø¨ÙˆØªØ§Øª).",
        verifyIssue: "ÙÙŠ Ù…Ø´ÙƒÙ„Ø© Ø¨Ø§Ù„ØªØ­Ù‚Ù‚. Ø­Ø¯Ù‘Ø« Ø§Ù„ØµÙØ­Ø© ÙˆØ¬Ø±Ø¨."
      },
      en: {
        back: "â† Back to home",
        title: "Contact Me",
        subtitle: "Have a question, collab idea, or content suggestion? Send me a message directly here.",
        labelName: "Name",
        labelEmail: "Email",
        labelSubject: "Subject",
        labelMessage: "Message",
        placeholderName: "Type your name",
        placeholderEmail: "ih4.mlo5@gmail.com",
        placeholderSubject: "e.g. video idea, collaboration, question...",
        placeholderMessage: "Write your message in detailâ€¦",
        errorName: "Name must be at least 2 characters.",
        errorEmail: "Please enter a valid email address.",
        errorSubject: "Subject must be at least 3 characters.",
        errorMessage: "Message must be at least 10 characters.",
        sendBtn: "Send message",
        sending: "Sending...",
        success: "âœ… Your message was sent successfully! Thank you.",
        fail: "Failed to send.",
        contactTitle: "Other contact methods",
        contactEmailLabel: "Official email:",
        contactEmailValue: "ih4.mlo5@gmail.com",
        contactSocialLabel: "Social media:",
        contactSocialValue: "YouTube Â· Instagram Â· TikTok (you can edit this text later).",
        contactNote: "Note: Anti-spam enabled (honeypot + human check + 45s cooldown).",
        langTitle: "English",
        pageTitle: "Contact - M L O 5",

        humanText: "I'm human âœ…",
        humanQLabel: "Quick anti-bot question:",
        humanHint: "Answer then submit.",
        cooldownWait: (n) => `Please wait ${n}s before sending again.`,
        modalTitle: "âœ… Message sent",
        modalMsg: "Got your message. I'll get back to you soon.",
        modalOk: "OK",
        humanWrong: "Wrong answer ğŸ˜… Try again.",
        humanNeedCheck: "Please check (I'm human) âœ…",
        fastFill: "Please wait a moment before submitting (anti-bot).",
        verifyIssue: "Verification issue. Refresh and try again."
      },
    };

    let currentLang = localStorage.getItem(LANG_KEY) || "ar";

    function applyLang() {
      const s = l10n[currentLang] || l10n.ar;

      document.title = s.pageTitle;

      const backLink = document.getElementById("back-link");
      const pageTitle = document.getElementById("page-title");
      const pageSubtitle = document.getElementById("page-subtitle");
      const labelName = document.getElementById("label-name");
      const labelEmail = document.getElementById("label-email");
      const labelSubject = document.getElementById("label-subject");
      const labelMessage = document.getElementById("label-message");
      const nameInput = document.getElementById("name");
      const emailInput = document.getElementById("email");
      const subjectInput = document.getElementById("subject");
      const messageInput = document.getElementById("message");
      const sendBtn = document.getElementById("send-btn");

      const contactTitle = document.getElementById("contact-title");
      const contactEmailLabel = document.getElementById("contact-email-label");
      const contactEmailValue = document.getElementById("contact-email-value");
      const contactSocialLabel = document.getElementById("contact-social-label");
      const contactSocialValue = document.getElementById("contact-social-value");
      const contactNote = document.getElementById("contact-note");

      // human check i18n
      const humanText = document.getElementById("human-text");
      const humanQLabel = document.getElementById("human-q-label");
      const hcHint = document.getElementById("hcHint");

      // modal i18n
      const modalTitle = document.getElementById("modalTitle");
      const modalMsg = document.getElementById("modalMsg");
      const modalOkBtn = document.getElementById("modalOkBtn");

      if (backLink) backLink.textContent = s.back;
      if (pageTitle) pageTitle.textContent = s.title;
      if (pageSubtitle) pageSubtitle.textContent = s.subtitle;

      if (labelName) labelName.textContent = s.labelName;
      if (labelEmail) labelEmail.textContent = s.labelEmail;
      if (labelSubject) labelSubject.textContent = s.labelSubject;
      if (labelMessage) labelMessage.textContent = s.labelMessage;

      if (nameInput) nameInput.placeholder = s.placeholderName;
      if (emailInput) emailInput.placeholder = s.placeholderEmail;
      if (subjectInput) subjectInput.placeholder = s.placeholderSubject;
      if (messageInput) messageInput.placeholder = s.placeholderMessage;

      if (sendBtn) sendBtn.textContent = s.sendBtn;

      if (contactTitle) contactTitle.textContent = s.contactTitle;
      if (contactEmailLabel) contactEmailLabel.textContent = s.contactEmailLabel;
      if (contactEmailValue) contactEmailValue.textContent = s.contactEmailValue;
      if (contactSocialLabel) contactSocialLabel.textContent = s.contactSocialLabel;
      if (contactSocialValue) contactSocialValue.textContent = s.contactSocialValue;
      if (contactNote) contactNote.textContent = s.contactNote;

      if (humanText) humanText.textContent = s.humanText;
      if (humanQLabel) humanQLabel.textContent = s.humanQLabel;
      if (hcHint && !hcHint.dataset.locked) hcHint.textContent = s.humanHint;

      if (modalTitle) modalTitle.textContent = s.modalTitle;
      if (modalMsg) modalMsg.textContent = s.modalMsg;
      if (modalOkBtn) modalOkBtn.textContent = s.modalOk;

      if (langToggle) langToggle.title = s.langTitle;

      document.documentElement.lang = currentLang === "en" ? "en" : "ar";
      document.documentElement.dir = currentLang === "en" ? "ltr" : "rtl";
    }

    applyLang();

    if (langToggle) {
      langToggle.addEventListener("click", () => {
        currentLang = currentLang === "ar" ? "en" : "ar";
        localStorage.setItem(LANG_KEY, currentLang);
        applyLang();
      });
    }

    // âœ… Modal helpers
    const modal = document.getElementById("successModal");
    const modalMsgEl = document.getElementById("modalMsg");

    function openModal(messageText) {
      if (modalMsgEl && messageText) modalMsgEl.textContent = messageText;
      modal.setAttribute("aria-hidden", "false");
      document.body.style.overflow = "hidden";
    }
    function closeModal() {
      modal.setAttribute("aria-hidden", "true");
      document.body.style.overflow = "";
    }
    if (modal) {
      modal.addEventListener("click", (e) => {
        if (e.target && e.target.dataset && e.target.dataset.close) closeModal();
      });
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && modal.getAttribute("aria-hidden") === "false") closeModal();
      });
    }

    // ÙÙˆØ±Ù… Ø§Ù„Ø§ØªØµØ§Ù„
    const contactForm = document.getElementById("contact-form");

    function setError(id, msg) {
      const el = document.getElementById(id);
      if (el) el.textContent = msg || "";
    }

    let successTimer = null;
    function setSuccess(msg) {
      const el = document.getElementById("success-message");
      if (!el) return;

      el.textContent = msg || "";

      if (successTimer) {
        clearTimeout(successTimer);
        successTimer = null;
      }

      if (msg) {
        successTimer = setTimeout(() => {
          el.textContent = "";
        }, 4000);
      }
    }

    function clearAllMessages() {
      setError("error-name", "");
      setError("error-email", "");
      setError("error-subject", "");
      setError("error-message", "");
      setSuccess("");
    }

    // âœ… Anti-bot: cooldown + math + min-fill-time + js proof
    const COOLDOWN_SECONDS = 45;
    const LS_KEY = "mlo5_contact_last_submit_ts";

    const humanBox = document.getElementById("humanBox");
    const humanAnswer = document.getElementById("humanAnswer");
    const mathQ = document.getElementById("mathQ");
    const hcHint = document.getElementById("hcHint");
    const jsProof = document.getElementById("jsProof");
    const cooldownNote = document.getElementById("cooldownNote");

    let expectedAnswer = null;
    let fillStart = Date.now();
    let countdownTimer = null;

    function now() { return Date.now(); }

    function setCooldown(tsMs) {
      localStorage.setItem(LS_KEY, String(tsMs));
    }

    function getCooldownRemaining() {
      const last = Number(localStorage.getItem(LS_KEY) || "0");
      if (!last) return 0;
      const diffSec = Math.floor((now() - last) / 1000);
      return Math.max(0, COOLDOWN_SECONDS - diffSec);
    }

    function renderCooldown(submitBtn) {
      const s = l10n[currentLang] || l10n.ar;
      const remaining = getCooldownRemaining();

      if (cooldownNote) {
        cooldownNote.textContent = remaining > 0 ? s.cooldownWait(remaining) : "";
      }

      if (submitBtn) {
        submitBtn.disabled = remaining > 0;
      }
    }

    function startCooldownTicker(submitBtn) {
      if (countdownTimer) clearInterval(countdownTimer);
      countdownTimer = setInterval(() => {
        renderCooldown(submitBtn);
        if (getCooldownRemaining() === 0) {
          clearInterval(countdownTimer);
          countdownTimer = null;
        }
      }, 250);
    }

    function newMathChallenge() {
      const a = Math.floor(2 + Math.random() * 8);
      const b = Math.floor(2 + Math.random() * 8);
      const op = Math.random() > 0.5 ? "+" : "Ã—";

      expectedAnswer = (op === "+") ? (a + b) : (a * b);
      if (mathQ) mathQ.textContent = `${a} ${op} ${b} = ØŸ`;
      if (humanAnswer) humanAnswer.value = "";
    }

    function markHumanInteraction() {
      const token = `${Math.random().toString(16).slice(2)}-${Date.now().toString(16)}`;
      if (jsProof) jsProof.value = token;
    }

    newMathChallenge();
    markHumanInteraction();

    // Ø£ÙˆÙ„ ØªÙØ§Ø¹Ù„ ÙØ¹Ù„ÙŠ
    let started = false;
    ["focusin", "input", "keydown", "pointerdown"].forEach(evt => {
      document.addEventListener(evt, () => {
        if (!started) {
          started = true;
          fillStart = now();
        }
      }, { once: true, passive: true });
    });

    if (contactForm) {
      const submitBtn = contactForm.querySelector('button[type="submit"]');
      renderCooldown(submitBtn);
      startCooldownTicker(submitBtn);

      contactForm.addEventListener("submit", async (e) => {
        e.preventDefault();

        // âœ… Honeypot anti-spam
        const trap = contactForm.querySelector('input[name="website"]');
        if (trap && trap.value) return;

        const s = l10n[currentLang] || l10n.ar;
        clearAllMessages();

        // âœ… Cooldown
        const remaining = getCooldownRemaining();
        if (remaining > 0) {
          renderCooldown(submitBtn);
          return;
        }

        // âœ… Human checkbox
        if (!humanBox || !humanBox.checked) {
          if (hcHint) {
            hcHint.dataset.locked = "1";
            hcHint.textContent = s.humanNeedCheck;
          }
          return;
        }

        // âœ… Math answer
        const ans = Number(String(humanAnswer?.value || "").trim());
        if (!Number.isFinite(ans) || ans !== expectedAnswer) {
          if (hcHint) {
            hcHint.dataset.locked = "1";
            hcHint.textContent = s.humanWrong;
          }
          newMathChallenge();
          return;
        }

        // âœ… min fill time (3s)
        const elapsedSec = Math.floor((now() - fillStart) / 1000);
        if (elapsedSec < 3) {
          if (hcHint) {
            hcHint.dataset.locked = "1";
            hcHint.textContent = s.fastFill;
          }
          return;
        }

        // âœ… JS proof
        if (!jsProof || !jsProof.value || jsProof.value.length < 8) {
          if (hcHint) {
            hcHint.dataset.locked = "1";
            hcHint.textContent = s.verifyIssue;
          }
          return;
        }

        // Ø±Ø¬Ù‘Ø¹ Ø§Ù„Ù‡Ù†Øª Ù„Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ
        if (hcHint) {
          hcHint.dataset.locked = "";
          hcHint.textContent = s.humanHint;
        }

        const name = (contactForm.querySelector("#name")?.value || "").trim();
        const email = (contactForm.querySelector("#email")?.value || "").trim();
        const subject = (contactForm.querySelector("#subject")?.value || "").trim();
        const message = (contactForm.querySelector("#message")?.value || "").trim();

        let ok = true;

        if (!name || name.length < 2) {
          setError("error-name", s.errorName);
          ok = false;
        }

        if (!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
          setError("error-email", s.errorEmail);
          ok = false;
        }

        if (!subject || subject.length < 3) {
          setError("error-subject", s.errorSubject);
          ok = false;
        }

        if (!message || message.length < 10) {
          setError("error-message", s.errorMessage);
          ok = false;
        }

        if (!ok) return;

        // Ø¬Ù‡Ù‘Ø² Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        const hiddenSubject = contactForm.querySelector("#hidden-subject");
        if (hiddenSubject) hiddenSubject.value = `MLO5 Contact: ${subject}`;

        const fd = new FormData(contactForm);

        if (submitBtn) {
          submitBtn.disabled = true;
          submitBtn.dataset.prevText = submitBtn.textContent || "";
          submitBtn.classList.add("loading");
          submitBtn.textContent = s.sending || "Sending...";
        }

        try {
          const res = await fetch(contactForm.action, {
            method: "POST",
            body: fd,
            headers: { "Accept": "application/json" }
          });

          if (res.ok) {
            // âœ… set cooldown
            setCooldown(now());
            renderCooldown(submitBtn);
            startCooldownTicker(submitBtn);

            setSuccess(""); // Ù…Ø§ Ø¨Ø¯Ù†Ø§ Ø§Ù„Ù†Øµ Ø§Ù„Ù‚Ø¯ÙŠÙ… ØªØ­Øª
            contactForm.reset();

            // âœ… reset challenge + proof
            newMathChallenge();
            markHumanInteraction();
            fillStart = now();

            // âœ… open modal
            openModal(s.modalMsg);
          } else {
            let data = null;
            try { data = await res.json(); } catch (e) {}
            const msg = (data && (data.error || data.message)) ? (data.error || data.message) : (s.fail || "Failed to send.");
            setError("error-message", msg);
          }
        } catch (err) {
          setError("error-message", s.fail || "Failed to send.");
        } finally {
          if (submitBtn) {
            submitBtn.classList.remove("loading");
            submitBtn.textContent = submitBtn.dataset.prevText || (s.sendBtn || "Send");
            // Ø¨ØªØ±Ø¬Ø¹ ØªØªØ¹Ø·Ù„ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø­Ø³Ø¨ Ø§Ù„ÙƒÙˆÙ„Ø¯Ø§ÙˆÙ†
            renderCooldown(submitBtn);
          }
        }
      });
    }
</script>
</body>
</html>
