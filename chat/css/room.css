:root{
  --bg-dark:#020202;
  --yellow:#facc15;
  --white:#f9fafb;
  --muted:#9ca3af;
  --border-subtle:rgba(156,163,175,.35);
  --grid-x:0px; --grid-y:0px;
  --vh: 1vh;

  /* âœ… Colors for ranks (kept for legacy uses) */
  --legend:#ef4444;
  --vip:#2563eb;
  --root:#f97316;
  --girl:#ec4899;

  /* âœ… NEW: Name colors per rank (as requested) */
  --rank-name-legendary:#f97316; /* Legendary = orange */
  --rank-name-girl:#ec4899;      /* Girl = pink */
  --rank-name-root:#ef4444;      /* Root = red */
  --rank-name-vip:#2563eb;       /* VIP = blue */
  --rank-name-master:#a3ff12;    /* Master = phosphoric */
}

*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:"Tajawal",system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  background:var(--bg-dark);
  color:var(--white);
  min-height: calc(var(--vh, 1vh) * 100);
  display:flex;
  justify-content:center;
  align-items:stretch;
  position:relative;
  cursor:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32'><polygon points='2,2 2,22 8,16 14,26 18,24 12,14 20,14' fill='%23facc15' stroke='%23000000' stroke-width='1.5'/></svg>") 0 0, auto;
  overflow:hidden;
}

/* âœ… Global background layer (shows for ALL users; admin can change it) */
#siteBgLayer{
  position:fixed; inset:0;
  z-index:0;
  pointer-events:none;
  display:block;
  background-size:cover;
  background-position:center;
  opacity:.55;
  filter:saturate(1.1) contrast(1.05);
  mix-blend-mode:screen;
}
#siteBgLayer::after{
  content:"";
  position:absolute; inset:0;
  background:linear-gradient(180deg, rgba(0,0,0,.50), rgba(0,0,0,.70));
  mix-blend-mode:multiply;
}

.bg-grid{
  position:fixed; inset:0; z-index:0; pointer-events:none;
  background-image:radial-gradient(circle, rgba(249,250,251,.55) 1px, transparent 1px);
  background-size:30px 30px;
  background-position:calc(50% + var(--grid-x)) calc(50% + var(--grid-y));
  opacity:.25; mix-blend-mode:screen;
}

.page{
  width:100%;
  max-width:1100px;
  padding:32px 16px 40px;
  margin:auto;
  position:relative;
  z-index:1;
  min-height:0;
}
.card{
  background:linear-gradient(145deg,#020202,#050505);
  border-radius:18px;
  padding:14px;
  border:1px solid var(--border-subtle);
  box-shadow:0 12px 30px rgba(0,0,0,.8),0 0 0 1px rgba(55,65,81,.6);
  position:relative;
  overflow:hidden;
  min-height:0;
}
.top-bar{
  display:flex; justify-content:space-between; align-items:center;
  gap:10px; margin-bottom:14px; direction:ltr;
}
.top-chip{
  font-size:.9rem; color:var(--white);
  padding:6px 14px; border-radius:999px;
  border:1px solid rgba(250,204,21,.6);
  background:rgba(0,0,0,.6);
  box-shadow:0 8px 20px rgba(0,0,0,.8),0 0 0 1px rgba(15,23,42,.9);
  display:inline-flex; align-items:center; gap:8px;
  user-select:none; cursor:pointer;
}
.dot{width:8px;height:8px;border-radius:50%;background:rgba(239,68,68,.9)}
.dot.on{background:rgba(34,197,94,.95)}
.title{
  font-family:"Poppins",system-ui,sans-serif;
  font-weight:800; letter-spacing:.12em;
  text-transform:uppercase; white-space:nowrap;
}
.title small{letter-spacing:0;font-weight:700;color:var(--muted)}

.wrap{
  display:grid;
  grid-template-columns:320px 1fr;
  gap:14px;
  height:calc(100vh - 32px - 40px - 14px - 44px);
  min-height:70vh;
  min-height:0;
}

.panel-head{
  display:flex; align-items:center; justify-content:space-between;
  gap:10px; margin-bottom:10px;
}
.panel-head .h{display:flex;flex-direction:column;gap:2px}
.panel-head .h b{color:var(--yellow);font-size:1rem}
.panel-head .h span{color:var(--muted);font-size:.85rem}

.badge{
  border-radius:999px;
  border:1px solid rgba(250,204,21,.55);
  padding:6px 10px;
  font-size:.85rem;
  background:rgba(0,0,0,.45);
  display:inline-flex; align-items:center; gap:8px;
  white-space:nowrap;
}

.badgeBtn{
  border-radius:999px;
  border:1px solid rgba(250,204,21,.55);
  padding:6px 10px;
  font-size:.85rem;
  background:rgba(0,0,0,.45);
  color:var(--yellow);
  display:none;
  align-items:center; gap:8px;
  white-space:nowrap;
  cursor:pointer;
  user-select:none;
}

.onlineCard{display:flex;flex-direction:column;height:100%}
#onlineList{
  display:flex;flex-direction:column;gap:10px;overflow:auto;min-height:0;flex:1;padding-right:4px;
  scrollbar-width:none; -ms-overflow-style:none;
}
#onlineList::-webkit-scrollbar{ width:0; height:0; }

/* âœ… user row base */
.userRow{
  display:flex;align-items:center;justify-content:space-between;gap:10px;
  padding:10px;border-radius:16px;border:1px solid var(--border-subtle);
  background:rgba(0,0,0,.55);
  box-shadow:0 10px 22px rgba(0,0,0,.6);
  cursor:pointer;
  position:relative;
  overflow:hidden;
}

/* âœ… Admin in online list: BLACK background (as requested) */
.userRow.admin{
  background:rgba(0,0,0,.80);
  border-color:rgba(250,204,21,.28);
  box-shadow:0 0 0 1px rgba(0,0,0,.85), 0 10px 22px rgba(0,0,0,.6);
}

/* âœ… Rank backgrounds apply to the WHOLE ROW (not only name) */
.userRow.rank-legend{
  background:linear-gradient(135deg, rgba(239,68,68,.38), rgba(0,0,0,.75));
  background-image: url("../media/ranks/legend1.gif");
  background-size:cover;
  background-position:center;
  border-color:rgba(239,68,68,.35);
}
.userRow.rank-vip{
  background:linear-gradient(135deg, rgba(37,99,235,.38), rgba(0,0,0,.75));
  background-image: url("../media/ranks/vip1.gif");
  background-size:cover;
  background-position:center;
  border-color:rgba(37,99,235,.35);
}
.userRow.rank-root{
  background:linear-gradient(135deg, rgba(249,115,22,.38), rgba(0,0,0,.75));
  background-image: url("../media/ranks/root1.gif");
  background-size:cover;
  background-position:center;
  border-color:rgba(249,115,22,.35);
}
.userRow.rank-girl{
  background:linear-gradient(135deg, rgba(236,72,153,.38), rgba(0,0,0,.75));
  background-image: url("../media/ranks/girl1.gif");
  background-size:cover;
  background-position:center;
  border-color:rgba(236,72,153,.38);
}
/* subtle overlay to keep text readable on GIFs */
.userRow.rank-legend::after,
.userRow.rank-vip::after,
.userRow.rank-root::after,
.userRow.rank-girl::after{
  content:"";
  position:absolute; inset:0;
  background:linear-gradient(180deg, rgba(0,0,0,.20), rgba(0,0,0,.65));
  pointer-events:none;
}
.userRow > *{ position:relative; z-index:1; }

.userMeta{display:flex;flex-direction:column;gap:3px;min-width:0}
.userMeta b{
  font-size:1.05rem;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:190px;
  display:flex; align-items:center; gap:8px;
}
.userMeta span{font-size:.8rem;color:var(--muted);display:inline-flex;align-items:center;gap:8px;flex-wrap:wrap}

.miniPill{
  border-radius:999px;border:1px solid rgba(148,163,184,.7);
  padding:3px 8px;font-size:.75rem;background:rgba(0,0,0,.4);
  color:var(--yellow);white-space:nowrap;
  display:inline-flex; align-items:center; gap:6px;
}

/* âœ… device icon small next to status (online list only) */
.devIcon{
  font-size:.85rem;
  opacity:.9;
  filter: drop-shadow(0 2px 8px rgba(0,0,0,.25));
}

/* âœ… Rank icon: emoji ONLY (no border/circle) */
.rankIcon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:auto;height:auto;
  border:none;
  background:transparent;
  border-radius:0;
  padding:0;
  font-size:1.05rem;
  animation: rankBlink 1.2s infinite;
  flex:0 0 auto;
  filter: drop-shadow(0 0 10px rgba(250,204,21,.10));
}
@keyframes rankBlink{
  0%{opacity:1}
  50%{opacity:.25}
  100%{opacity:1}
}

/* âœ… Mute indicator: emoji ONLY â€” NO BLINK (as requested) */
.mutedEmoji{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-size:1rem;
  animation: none !important;
  filter: drop-shadow(0 0 12px rgba(239,68,68,.18));
}

/* âœ…â¬‡ï¸ Ignore + More buttons: REMOVE border/background (as requested) */
.ignoreBtn, .moreBtn{
  border: none !important;
  background: transparent !important;
  color: var(--yellow);
  border-radius: 999px;
  padding: 5px 9px;
  cursor: pointer;
  font-size: .9rem;
  user-select:none;
  min-width: 36px;
  height: 32px;
  display:inline-flex;align-items:center;justify-content:center;
  opacity:.95;
}
.ignoreBtn:hover, .moreBtn:hover{ opacity:1; filter: drop-shadow(0 0 10px rgba(250,204,21,.12)); }
.ignoreBtn.ignored{ color:rgba(239,68,68,.95) !important; }
.ignoreBtn:disabled{opacity:.35;cursor:not-allowed;filter:none}

.actionsRow{display:flex;align-items:center;gap:8px}

.statusWrap{display:flex;align-items:center;gap:8px;justify-content:flex-end;direction:rtl}
select,input{
  border-radius:999px;
  border:1px solid rgba(250,204,21,.55);
  background:#000;
  color:var(--white);
  padding:8px 12px;
  outline:none;
  font-size:.9rem;
}

.chatCard{display:flex;flex-direction:column;height:100%;min-height:0;position:relative}
.chatSplit{
  flex:1; min-height:0;
  display:grid;
  grid-template-columns:1fr 0fr;
  gap:12px;
}
.chatCol{min-height:0;display:flex;flex-direction:column}

#messages{
  display:flex;flex-direction:column;gap:10px;overflow:auto;
  min-height:0;flex:1;padding-right:4px;padding-bottom:6px;
  scrollbar-width:none; -ms-overflow-style:none;
  -webkit-overflow-scrolling: touch;
}
#messages::-webkit-scrollbar{ width:0; height:0; }

.msgRow{
  width:100%;
  display:flex;
  direction:rtl;
  justify-content:flex-start;
}
.msgRow.me{ justify-content:flex-end; }

.msg{
  max-width:78%;
  border-radius:18px 18px 18px 6px;
  border:1px solid var(--border-subtle);
  background:rgba(0,0,0,.55);
  box-shadow:0 10px 22px rgba(0,0,0,.6);
  padding:10px 12px 44px;
  line-height:1.5;
  word-break:break-word;
  position:relative;
}
.msg.me{
  border-color:rgba(250,204,21,.75);
  box-shadow:0 14px 32px rgba(0,0,0,.75),0 0 0 1px rgba(250,204,21,.35);
}

.msgHead{
  display:flex;align-items:center;justify-content:space-between;gap:10px;
  margin-bottom:6px;color:var(--muted);font-size:.85rem
}
.nameTag{
  font-weight:900;display:inline-flex;align-items:center;gap:8px;
  white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:240px
}
.nameTag.rankBig{font-size:1.05rem}
.msgTimeUnder{margin-top:6px;font-size:.78rem;color:rgba(156,163,175,.92);text-align:left;direction:ltr}

.system{
  align-self:center;
  color:rgba(156,163,175,.95);
  font-size:.9rem;
  padding:6px 10px;
  border-radius:999px;
  border:1px dashed rgba(250,204,21,.55);
  background:rgba(0,0,0,.55);
  max-width:100%;
  text-align:center;
}
/* âœ… animated system message "Ø¯Ø®Ù„ ÙƒØ¨ÙŠØ±Ù‡Ù…" */
.systemBigBoss{
  animation: bigBossBlink 1.05s infinite;
  border-style:solid;
  border-color:rgba(250,204,21,.75);
  color:#fff;
  background:rgba(0,0,0,.75);
  box-shadow:0 10px 30px rgba(0,0,0,.65);
  letter-spacing:.02em;
}
@keyframes bigBossBlink{
  0%{opacity:1; transform:translateY(0)}
  50%{opacity:.35; transform:translateY(-1px)}
  100%{opacity:1; transform:translateY(0)}
}

.replyBtn{
  position:absolute;
  bottom:8px;
  right:10px;
  border-radius:999px;
  border:1px solid rgba(250,204,21,.45);
  background:rgba(0,0,0,.55);
  color:var(--yellow);
  cursor:pointer;
  font-size:.8rem;
  padding:6px 10px;
  height:34px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  user-select:none;
}

.replyPreview{
  border:1px solid rgba(250,204,21,.35);
  border-radius:14px;
  background:rgba(0,0,0,.45);
  padding:8px 10px;
  margin:0 0 10px;
  display:none;
  align-items:flex-start;
  justify-content:space-between;
  gap:10px;
}
.replyPreview b{color:var(--yellow);font-size:.9rem}
.replyPreview span{color:var(--muted);font-size:.85rem;line-height:1.5}
.replyCancel{
  border:1px solid rgba(250,204,21,.75);
  background:rgba(0,0,0,.75);
  color:var(--yellow);
  border-radius:999px;
  width:34px;height:34px;
  cursor:pointer;
  display:inline-flex;align-items:center;justify-content:center;
  user-select:none;
  flex:0 0 auto;
}

.replyQuote{
  border:1px solid rgba(250,204,21,.25);
  background:rgba(0,0,0,.45);
  border-radius:14px;
  padding:8px 10px;
  margin-bottom:8px;
}
.replyQuote b{color:var(--yellow);font-size:.85rem}
.replyQuote div{color:var(--muted);font-size:.85rem;margin-top:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

.composer{display:flex;align-items:center;gap:10px;margin-top:12px;direction:rtl}
#msgInput{flex:1;border-radius:999px}

.sendBtn,.emojiBtn,.adminClearBtn{
  border-radius:999px;
  border:1px solid rgba(250,204,21,.75);
  background:rgba(0,0,0,.75);
  color:var(--yellow);
  padding:9px 14px;
  cursor:pointer;
  font-weight:800;
  height:40px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  user-select:none;
}
.emojiBtn{width:40px;padding:0}
.adminClearBtn{width:40px;padding:0;display:none}

/* âœ… NEW: Mic/Cam buttons (UI only) */
.micBtn,.camBtn{
  border-radius:999px;
  border:1px solid rgba(250,204,21,.75);
  background:rgba(0,0,0,.75);
  color:var(--yellow);
  width:40px;
  height:40px;
  padding:0;
  cursor:not-allowed; /* UI only */
  opacity:.85;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  user-select:none;
}
.micBtn:hover,.camBtn:hover{ opacity:.95; }
.micBtn:active,.camBtn:active{ transform: translateY(0); }

.emojiPicker{
  position:absolute;
  bottom:62px;
  right:14px;
  width:280px;
  max-width:calc(100% - 28px);
  border-radius:18px;
  border:1px solid rgba(250,204,21,.55);
  background:rgba(0,0,0,.92);
  box-shadow:0 18px 45px rgba(0,0,0,.95);
  padding:10px;
  display:none;
  z-index:50;
  backdrop-filter:blur(10px);
}
.emojiGrid{
  display:grid;grid-template-columns:repeat(8,1fr);gap:6px;max-height:200px;overflow:auto;padding-right:4px;
  scrollbar-width:none; -ms-overflow-style:none;
}
.emojiGrid::-webkit-scrollbar{ width:0; height:0; }
.emojiItem{border:1px solid rgba(148,163,184,.35);background:rgba(0,0,0,.55);border-radius:12px;padding:6px 0;text-align:center;cursor:pointer;user-select:none}

.menu{
  position:fixed; z-index:9999;
  background:rgba(0,0,0,.92);
  border:1px solid rgba(250,204,21,.55);
  border-radius:14px;
  padding:8px;
  min-width:220px;
  display:none;
  box-shadow:0 18px 40px rgba(0,0,0,.9);
}
.menu button{
  width:100%;
  border:none;
  background:transparent;
  color:var(--white);
  text-align:right;
  padding:10px 10px;
  border-radius:12px;
  cursor:pointer;
  font-family:inherit;
  font-weight:900;
}
.menu button:hover{background:rgba(250,204,21,.12); color:var(--yellow)}
.menu .sep{height:1px;background:rgba(250,204,21,.25);margin:6px 0;border-radius:999px}

.guestPill{
  border:1px solid rgba(250,204,21,.35);
  background:rgba(0,0,0,.45);
  border-radius:999px;
  padding:2px 8px;
  font-size:.78rem;
  color:var(--yellow);
  white-space:nowrap;
}

#modal{
  position:fixed; inset:0; z-index:999;
  background:rgba(0,0,0,.75);
  display:none; align-items:center; justify-content:center;
  padding:16px;
}
#modalBox{
  width:min(860px,96vw);
  border-radius:18px;
  border:1px solid rgba(250,204,21,.55);
  background:rgba(0,0,0,.92);
  box-shadow:0 18px 45px rgba(0,0,0,.95),0 0 0 1px rgba(17,24,39,.9);
  padding:14px;
  backdrop-filter:blur(10px);
  position:relative;
}
.modalGrid{
  display:grid;
  grid-template-columns: 1fr 340px;
  gap:14px;
  align-items:start;
}
@media (max-width: 900px){ .modalGrid{grid-template-columns:1fr} }

.modalCard{
  border:1px solid rgba(250,204,21,.35);
  border-radius:16px;
  background:rgba(0,0,0,.45);
  padding:12px;
  position:relative;
}
.modalCard h3{margin-bottom:8px;color:var(--yellow);text-align:center;font-weight:900}
.modalCard p{color:var(--muted);text-align:center;font-size:.9rem;margin-bottom:12px;line-height:1.7}

.homeBackBtn{
  position:absolute;
  top:10px;
  left:10px;
  border-radius:999px;
  border:1px solid rgba(250,204,21,.75);
  background:rgba(0,0,0,.75);
  color:var(--yellow);
  width:40px;height:40px;
  cursor:pointer;
  display:inline-flex;align-items:center;justify-content:center;
  user-select:none;
}
.backListBtn{
  position:absolute;
  top:10px;
  left:58px;
  border-radius:999px;
  border:1px solid rgba(250,204,21,.75);
  background:rgba(0,0,0,.75);
  color:var(--yellow);
  width:40px;height:40px;
  cursor:pointer;
  display:inline-flex;align-items:center;justify-content:center;
  user-select:none;
}

.choiceRow{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-bottom:10px}
.choiceBtn{
  border-radius:999px;
  border:1px solid rgba(250,204,21,.75);
  background:rgba(0,0,0,.75);
  color:var(--yellow);
  padding:10px 14px;
  cursor:pointer;
  font-weight:900;
  flex:1;
  min-width:180px;
}

.modalRow{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:10px}
.modalRow.one{grid-template-columns:1fr}
.modalBtn{
  width:100%;
  border-radius:999px;
  border:1px solid rgba(250,204,21,.75);
  background:rgba(0,0,0,.75);
  color:var(--yellow);
  padding:10px 14px;
  cursor:pointer;
  font-weight:900;
}
.hintErr{margin-top:8px;color:rgba(239,68,68,.95);font-size:.85rem;text-align:center;display:none}

.nameWrap{display:flex;gap:10px;align-items:center}
.nameWrap input{flex:1}

.colorRow{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:8px}
.colorBox{
  display:flex;align-items:center;justify-content:space-between;gap:10px;
  border:1px solid rgba(250,204,21,.35);
  border-radius:999px;
  padding:6px 10px;
  background:rgba(0,0,0,.45);
  color:var(--white);
  font-size:.85rem;
}
.colorBox input{width:44px;height:28px;padding:0;border-radius:10px;border:1px solid rgba(250,204,21,.55); background:#000}

@media (max-width:900px){
  body{overflow:hidden}
  .page{padding:16px 12px 18px}
  .wrap{
    grid-template-columns:1fr;
    height:calc(var(--vh, 1vh) * 100 - 90px);
    min-height:0;
  }
  .badgeBtn{display:inline-flex;}
  .msg{
    max-width:88%;
    padding:8px 10px 34px;
    border-radius:14px;
    font-size:.9rem;
  }
  .msgHead{font-size:.75rem;margin-bottom:4px}
  .msgTimeUnder{font-size:.7rem}
  .replyBtn{
    height:30px;
    padding:4px 8px;
    font-size:.7rem;
    bottom:6px;
    right:8px;
  }
  .sendBtn,.emojiBtn{ display:none !important; }
}

#appModal{
  position:fixed; inset:0; z-index:2000;
  background:rgba(0,0,0,.75);
  display:none; align-items:center; justify-content:center;
  padding:16px;
}
#appModalBox{
  width:min(520px,96vw);
  border-radius:18px;
  border:1px solid rgba(250,204,21,.55);
  background:rgba(0,0,0,.92);
  box-shadow:0 18px 45px rgba(0,0,0,.95),0 0 0 1px rgba(17,24,39,.9);
  padding:14px;
  backdrop-filter:blur(10px);
}
.appModalTitle{
  color:var(--yellow);
  font-weight:900;
  text-align:center;
  margin-bottom:8px;
}
.appModalText{
  color:var(--white);
  text-align:center;
  line-height:1.8;
  margin-bottom:12px;
  white-space:pre-wrap;
}
.appModalActions{
  display:flex; gap:10px; justify-content:center; flex-wrap:wrap;
}

#modalBox .modalCard,
#modalBox .choiceBtn,
#modalBox .modalBtn,
#modalBox input,
#modalBox select,
#modalBox .colorBox{
  transition: box-shadow .18s ease, transform .18s ease, border-color .18s ease;
}
#modalBox .choiceBtn:hover,
#modalBox .modalBtn:hover,
#modalBox .colorBox:hover{
  box-shadow: 0 0 0 1px rgba(250,204,21,.25), 0 0 22px rgba(250,204,21,.18), 0 16px 40px rgba(0,0,0,.85);
  transform: translateY(-1px);
  border-color: rgba(250,204,21,.85);
}
#modalBox input:hover,
#modalBox select:hover{
  box-shadow: 0 0 0 1px rgba(250,204,21,.18), 0 0 18px rgba(250,204,21,.14);
  border-color: rgba(250,204,21,.75);
}
#modalBox .modalCard:hover{
  box-shadow: 0 0 0 1px rgba(250,204,21,.14), 0 0 26px rgba(250,204,21,.10), 0 18px 45px rgba(0,0,0,.95);
}

/* âœ… Admin dots in online list: REMOVE border/background (as requested) */
.adminRoomDots{
  border:none !important;
  background:transparent !important;
  color:var(--yellow);
  border-radius:999px;
  padding:5px 9px;
  cursor:pointer;
  font-size:.9rem;
  user-select:none;
  height:32px;
  min-width:36px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  opacity:.95;
}
.adminRoomDots:hover{ opacity:1; filter: drop-shadow(0 0 10px rgba(250,204,21,.12)); }

#onlineOverlay{
  position:fixed; inset:0;
  background:rgba(0,0,0,.65);
  z-index:1190;
  display:none;
}
@media (max-width:900px){
  .onlineCard{
    position:fixed;
    top:74px;
    bottom:16px;
    right:-380px;
    width:min(360px, 88vw);
    z-index:1200;
    transition:right .22s ease;
  }
  .onlineCard.drawer-open{ right:12px; }
  #onlineOverlay.show{ display:block; }
}

.chatEmojiImg{
  width:26px;height:26px;
  vertical-align:middle;
  border-radius:8px;
  box-shadow:0 10px 22px rgba(0,0,0,.35);
}

.dhikrToast{
  position:fixed;
  z-index:5000;
  padding:10px 14px;
  border-radius:999px;
  border:1px solid rgba(250,204,21,.25);
  background:rgba(0,0,0,.28);
  color:#fff;
  font-weight:900;
  opacity:0;
  pointer-events:none;
  backdrop-filter: blur(6px);
  animation: dhikrInOut 4.2s ease forwards;
  text-shadow: 0 4px 18px rgba(0,0,0,.6);
}
@keyframes dhikrInOut{
  0%{opacity:0; transform:translateY(6px) scale(.98)}
  15%{opacity:.65; transform:translateY(0) scale(1)}
  70%{opacity:.65; transform:translateY(0) scale(1)}
  100%{opacity:0; transform:translateY(-6px) scale(.98)}
}

/* =========================
   WhatsApp Bubble Patch (SAFE)
   Ø¶Ø¹ Ù‡Ø°Ø§ Ø¢Ø®Ø± room.css Ø§Ù„Ù‚Ø¯ÙŠÙ…
========================= */

/* ÙÙ‚Ø§Ø¹Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø©: Ø¯Ø§Ø¦Ø±ÙŠØ© ÙˆÙ†Ø§Ø¹Ù…Ø© */
.msg{
  border-radius: 18px !important;
  padding-bottom: 44px !important; /* Ø®Ù„ÙŠÙ‡Ø§ Ù…Ø«Ù„ Ø§Ù„Ù‚Ø¯ÙŠÙ… Ø¹Ø´Ø§Ù† Ø²Ø± Ø§Ù„Ø±Ø¯ Ù…Ø§ ÙŠØ®Ø±Ø¨ */
}

/* Ø´ÙƒÙ„ ÙˆØ§ØªØ³Ø§Ø¨: Ø²Ø§ÙˆÙŠØ© ØµØºÙŠØ±Ø© Ù…Ù† Ø¬Ù‡Ø© ÙˆØ§Ø­Ø¯Ø© */
.msgRow:not(.me) .msg{
  border-bottom-left-radius: 6px !important;
}
.msgRow.me .msg{
  border-bottom-right-radius: 6px !important;
}

/* âŒ Ù„Ùˆ Ø¹Ù†Ø¯Ùƒ Ø°ÙŠÙ„ Ù…Ø±Ø¨Ø¹ Ù…Ù† Ø£ÙŠ Ø¨Ø§ØªØ´ Ø³Ø§Ø¨Ù‚: Ù†Ø®ÙÙŠÙ‡ ÙÙ‚Ø· */
.msgRow.me .msg::after,
.msgRow:not(.me) .msg::after{
  content: none !important;
  display:none !important;
}

/* =========================
   ADMIN animated capsule
========================= */

.userRow.admin{
  background-image: url("../media/ranks/admin.gif") !important;
  background-size: cover !important;
  background-position: center !important;
  background-repeat: no-repeat !important;

  border-color: rgba(250,204,21,.45) !important;
  box-shadow: 0 0 0 1px rgba(0,0,0,.85),
              0 10px 22px rgba(0,0,0,.6) !important;
}

/* Ø·Ø¨Ù‚Ø© Ø®ÙÙŠÙØ© Ù„ØªØ­Ø³ÙŠÙ† Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù†Øµ */
.userRow.admin::after{
  content:"";
  position:absolute;
  inset:0;
  background: linear-gradient(
    180deg,
    rgba(0,0,0,.15),
    rgba(0,0,0,.55)
  );
  pointer-events:none;
}

/* Ø®Ù„ÙŠ Ø§Ù„Ù†Øµ ÙÙˆÙ‚ Ø§Ù„Ø·Ø¨Ù‚Ø© */
.userRow.admin > *{
  position:relative;
  z-index:1;
}

/* Ø§Ø³Ù… Ø§Ù„Ø£Ø¯Ù…Ù† Ø£Ø¨ÙŠØ¶ ÙˆÙˆØ§Ø¶Ø­ */
.userRow.admin .userMeta b{
  color:#fff;
  font-weight:900;
}

/* =========================
   ADMIN MESSAGE â€“ Chat Box
========================= */

/* ÙƒØ¨Ø³ÙˆÙ„Ø© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø£Ø¯Ù…Ù† (Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„ØµÙØ±Ø§Ø¡) */
.msg.admin{
  background: #facc15 !important; /* Ø£ØµÙØ± */
  border-color: rgba(0,0,0,.65) !important;
  box-shadow: 0 10px 26px rgba(0,0,0,.55) !important;
}

/* Ù†Øµ Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙŠÙƒÙˆÙ† ØºØ§Ù…Ù‚ ÙˆÙˆØ§Ø¶Ø­ */
.msg.admin{
  color: #000 !important;
}

/* ÙƒØ¨Ø³ÙˆÙ„Ø© Ø§Ù„Ø§Ø³Ù… (Ø£Ø³ÙˆØ¯) */
.msg.admin .nameTag,
.nameTag.admin{
  background: #000;
  color: #fff;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 1.05rem;
  font-weight: 900;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  letter-spacing: .04em;
  margin-bottom: 6px;
}

/* Ù†ØºÙŠØ± Ø§Ù„Ø§Ø³Ù… Ù†ØµÙŠÙ‹Ø§ */
.msg.admin .nameTag,
.nameTag.admin{
  visibility: hidden;
  position: relative;
}
.msg.admin .nameTag::before,
.nameTag.admin::before{
  content: "ğ•„ğ•ƒğ•†ğŸ ãƒ…";
  visibility: visible;
}

/* ØªØ§Ø¬ + Ø¬Ù…Ø¬Ù…Ø© Ø¯Ø§Ø®Ù„ Ù†ÙØ³ Ø§Ù„ÙƒØ¨Ø³ÙˆÙ„Ø© */
.msg.admin .nameTag::after,
.nameTag.admin::after{
  content: " ğŸ‘‘ â˜ ï¸";
  visibility: visible;
  animation: adminChatBlink 1.1s infinite;
  filter: drop-shadow(0 0 8px rgba(250,204,21,.8));
}

/* ÙˆÙ…ÙŠØ¶ Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ */
@keyframes adminChatBlink{
  0%{opacity:1}
  50%{opacity:.25}
  100%{opacity:1}
}

/* ÙˆÙ‚Øª Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙŠÙƒÙˆÙ† Ø£ÙˆØ¶Ø­ Ø¹Ù„Ù‰ Ø§Ù„Ø£ØµÙØ± */
.msg.admin .msgTimeUnder{
  color: rgba(0,0,0,.75) !important;
}

/* =========================
   âœ… Theme bridge (MUST be at the VERY END)
========================= */

:root{
  /* defaults (dark) */
  --mlo5-bg: var(--bg-dark);
  --mlo5-card: linear-gradient(145deg,#020202,#050505);
  --mlo5-text: var(--white);
  --mlo5-accent: var(--yellow);
}

/* Page base */
body{
  background: var(--mlo5-gradient, var(--mlo5-bg, var(--bg-dark))) !important;
  color: var(--mlo5-text, var(--white)) !important;
}

/* Cards */
.card{
  background: var(--mlo5-card, linear-gradient(145deg,#020202,#050505)) !important;
}

/* Headings accents */
.panel-head .h b,
.badgeBtn,
.replyBtn,
.sendBtn,.emojiBtn,.adminClearBtn{
  color: var(--mlo5-accent, var(--yellow)) !important;
}

/* Inputs keep readable across themes */
select,input{
  color: var(--mlo5-text, var(--white)) !important;
}

/* Make chips match themes a bit */
.top-chip,
.badge,
.miniPill,
.menu{
  color: var(--mlo5-text, var(--white)) !important;
}

/* ======================================================
   âœ… Rank name colors override (works even if inline style exists)
   - Online list
   - Chat messages
   ====================================================== */

/* Online list name span */
.userRow.rank-legend .userMeta b span{ color: var(--rank-name-legendary) !important; }
.userRow.rank-girl   .userMeta b span{ color: var(--rank-name-girl) !important; }
.userRow.rank-root   .userMeta b span{ color: var(--rank-name-root) !important; }
.userRow.rank-vip    .userMeta b span{ color: var(--rank-name-vip) !important; }

/* Chat name span (non-admin) */
.msg .nameTag span{ color:#fff !important; } /* default white if anything slips */
.msg .nameTag.rankBig span{ color:#fff !important; }

/* (JS will set proper colors per rank; CSS here is safety net)
   For MASTER weâ€™ll color via JS when added; this CSS is reserved. */

/* =========================
   Capsule Arrow (Online List)
   Ø¶Ø¹ Ù‡Ø°Ø§ Ø¢Ø®Ø± room.css
========================= */

.capArrow{
  border:none;
  background:transparent;
  color:var(--yellow);
  cursor:pointer;
  padding:0 6px;
  font-size:1rem;
  line-height:1;
  opacity:.9;
}
.capArrow:hover{ opacity:1; filter: drop-shadow(0 0 10px rgba(250,204,21,.12)); }

/* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© */
.capDropdown{
  position:fixed;
  z-index:99999;
  display:none;
  background:rgba(0,0,0,.92);
  border:1px solid rgba(250,204,21,.55);
  border-radius:14px;
  padding:10px;
  box-shadow:0 18px 40px rgba(0,0,0,.9);
  min-width:260px;
}

/* Ø´Ø¨ÙƒØ© Ø§Ù„ØµÙˆØ± */
.capGrid{
  display:grid;
  grid-template-columns:repeat(5, 1fr);
  gap:8px;
}

.capOpt{
  border:1px solid rgba(250,204,21,.25);
  background:rgba(0,0,0,.35);
  border-radius:12px;
  padding:6px;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:center;
}
.capOpt:hover{
  border-color:rgba(250,204,21,.75);
  box-shadow:0 0 0 1px rgba(250,204,21,.18), 0 0 16px rgba(250,204,21,.12);
}

.capOpt img{
  width:100%;
  height:44px;
  object-fit:cover;
  border-radius:10px;
  display:block;
}

.capReset{
  margin-top:10px;
  width:100%;
  border:none;
  background:rgba(250,204,21,.12);
  color:var(--yellow);
  border-radius:12px;
  padding:10px;
  cursor:pointer;
  font-weight:900;
}
.capReset:hover{ background:rgba(250,204,21,.18); }
/* Ø³Ù‡Ù… Ø§Ù„ÙƒØ¨Ø³ÙˆÙ„Ø§Øª Ø¬Ù†Ø¨ Ø§Ù„Ø­Ø§Ù„Ø© */
.capsuleArrow{
  border:none;
  background:transparent;
  color:var(--yellow);
  cursor:pointer;
  font-size:1rem;
  padding:2px 6px;
  line-height:1;
  opacity:.95;
}
.capsuleArrow:hover{ opacity:1; filter: drop-shadow(0 0 10px rgba(250,204,21,.12)); }

/* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© (ØµÙˆØ± ÙÙ‚Ø·) */
.capsuleDrop{
  position:absolute;
  top:100%;
  right:0;
  margin-top:8px;
  padding:10px;
  border-radius:14px;
  border:1px solid rgba(250,204,21,.45);
  background:rgba(0,0,0,.92);
  box-shadow:0 18px 40px rgba(0,0,0,.9);
  display:none;
  z-index:9999;
  width:260px;
}
.capsuleDrop.show{ display:block; }

.capsuleGrid{
  display:grid;
  grid-template-columns:repeat(3, 1fr);
  gap:8px;
}
.capsuleItem{
  width:100%;
  height:58px;
  border-radius:12px;
  border:1px solid rgba(156,163,175,.25);
  background:rgba(0,0,0,.35);
  cursor:pointer;
  overflow:hidden;
}
.capsuleItem img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}
/* âœ… Radio ON indicator (top-right, subtle blink) */
.top-chip.radio-on{ position:relative; }

.top-chip.radio-on::after{
  content:"";
  position:absolute;
  top:6px;
  right:8px;           /* âœ… Ø«Ø§Ø¨ØªØ© ÙÙˆÙ‚ ÙŠÙ…ÙŠÙ† Ø¹Ù†Ø¯ Ø§Ù„ÙƒÙ„ */
  width:10px;
  height:10px;
  border-radius:999px;
  background: rgba(34,197,94,.95);
  box-shadow: 0 0 0 2px rgba(0,0,0,.55), 0 0 14px rgba(34,197,94,.35);
  animation: radioPulse 1.05s infinite;
}

@keyframes radioPulse{
  0%{ transform:scale(1); opacity:1; }
  50%{ transform:scale(0.88); opacity:.35; }
  100%{ transform:scale(1); opacity:1; }
}
#radioBtn{ display:inline-flex !important; }
/* âœ… Ø§Ø®ÙØ§Ø¡ Ø²Ø± ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø±Ø§Ø¨Ø· Ø¹Ù† Ø§Ù„Ø¬Ù…ÙŠØ¹ Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹ */
#radioSetUrlBtn{ display:none !important; }

/* âœ… Ù„Ù„Ø£Ø¯Ù…Ù† ÙÙ‚Ø· */
body.isAdmin #radioSetUrlBtn{ display:block !important; }




