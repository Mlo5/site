/* =========================
   ROOT VARIABLES
========================= */
:root{
  --bg-dark:#020202;
  --yellow:#facc15;
  --white:#f9fafb;
  --muted:#9ca3af;
  --border-subtle:rgba(156,163,175,.35);
  --grid-x:0px; --grid-y:0px;
  --vh:1vh;

  --rank-name-legendary:#f97316;
  --rank-name-girl:#ec4899;
  --rank-name-root:#ef4444;
  --rank-name-vip:#2563eb;
  --rank-name-master:#a3ff12;
}

*{box-sizing:border-box;margin:0;padding:0}

/* =========================
   BODY
========================= */
body{
  font-family:"Tajawal",system-ui,sans-serif;
  background:var(--bg-dark);
  color:var(--white);
  min-height:calc(var(--vh, 1vh) * 100);
  display:flex;
  justify-content:center;
  align-items:stretch;
  overflow:hidden;
}

/* =========================
   LAYOUT
========================= */
.wrap{
  display:grid;
  grid-template-columns:320px 1fr;
  gap:14px;
  height:100vh;
  padding:20px;
}

/* =========================
   ONLINE LIST
========================= */
#onlineList{
  display:flex;
  flex-direction:column;
  gap:10px;
  overflow:auto;
  flex:1;
  padding-right:6px;

  /* ✅ yellow scrollbar */
  scrollbar-width:thin;
  scrollbar-color:var(--yellow) rgba(0,0,0,.35);
}
#onlineList::-webkit-scrollbar{width:10px}
#onlineList::-webkit-scrollbar-track{
  background:rgba(0,0,0,.35);
  border-radius:999px;
}
#onlineList::-webkit-scrollbar-thumb{
  background:var(--yellow);
  border-radius:999px;
}

/* =========================
   USER ROW
========================= */
.userRow{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
  padding:10px;
  border-radius:16px;
  background:rgba(0,0,0,.55);
  border:1px solid var(--border-subtle);
  position:relative;
  overflow:hidden;
}

/* Admin */
.userRow.admin{
  background-image:url("../media/ranks/admin.gif");
  background-size:cover;
  background-position:center;
  border-color:rgba(250,204,21,.45);
}
.userRow.admin::after{
  content:"";
  position:absolute;
  inset:0;
  background:linear-gradient(180deg, rgba(0,0,0,.15), rgba(0,0,0,.6));
}
.userRow.admin > *{position:relative;z-index:1}

/* Rank fallback backgrounds (JS سيغيرها لاحقًا) */
.userRow.rank-legend{background-image:url("../media/ranks/legend1.gif")}
.userRow.rank-vip{background-image:url("../media/ranks/vip1.gif")}
.userRow.rank-root{background-image:url("../media/ranks/root1.gif")}
.userRow.rank-girl{background-image:url("../media/ranks/girl1.gif")}

.userRow.rank-legend,
.userRow.rank-vip,
.userRow.rank-root,
.userRow.rank-girl{
  background-size:cover;
  background-position:center;
}
.userRow.rank-legend::after,
.userRow.rank-vip::after,
.userRow.rank-root::after,
.userRow.rank-girl::after{
  content:"";
  position:absolute;
  inset:0;
  background:linear-gradient(180deg, rgba(0,0,0,.2), rgba(0,0,0,.65));
}
.userRow > *{position:relative;z-index:1}

/* =========================
   USER META
========================= */
.userMeta{
  display:flex;
  flex-direction:column;
  gap:4px;
  min-width:0;
}
.userMeta b{
  display:flex;
  align-items:center;
  gap:6px;
  font-size:1.05rem;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.userMeta span{
  font-size:.8rem;
  color:var(--muted);
  display:flex;
  align-items:center;
  gap:6px;
}

/* =========================
   ACTION BUTTONS
========================= */
.actionsRow{
  display:flex;
  gap:6px;
}
.ignoreBtn,.moreBtn,.adminRoomDots{
  border:none;
  background:transparent;
  color:var(--yellow);
  cursor:pointer;
  font-size:.95rem;
  opacity:.9;
}
.ignoreBtn:hover,.moreBtn:hover,.adminRoomDots:hover{
  opacity:1;
  filter:drop-shadow(0 0 10px rgba(250,204,21,.15));
}

/* =========================
   CHAT MESSAGES
========================= */
#messages{
  display:flex;
  flex-direction:column;
  gap:10px;
  overflow:auto;
  flex:1;
  padding-right:6px;

  scrollbar-width:thin;
  scrollbar-color:var(--yellow) rgba(0,0,0,.35);
}
#messages::-webkit-scrollbar{width:10px}
#messages::-webkit-scrollbar-track{
  background:rgba(0,0,0,.35);
  border-radius:999px;
}
#messages::-webkit-scrollbar-thumb{
  background:var(--yellow);
  border-radius:999px;
}

/* =========================
   CAPSULE ARROW + DROPDOWN
========================= */
.capArrow{
  border:none;
  background:transparent;
  color:var(--yellow);
  cursor:pointer;
  font-size:1rem;
  padding:0 6px;
  opacity:.9;
}
.capArrow:hover{
  opacity:1;
  filter:drop-shadow(0 0 10px rgba(250,204,21,.15));
}

.capDropdown{
  position:fixed;
  z-index:99999;
  display:none;
  background:rgba(0,0,0,.92);
  border:1px solid rgba(250,204,21,.55);
  border-radius:14px;
  padding:10px;
  box-shadow:0 18px 40px rgba(0,0,0,.9);
  min-width:260px;
}

.capGrid{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:8px;
}

.capOpt{
  border:1px solid rgba(250,204,21,.25);
  background:rgba(0,0,0,.35);
  border-radius:12px;
  padding:6px;
  cursor:pointer;
}
.capOpt:hover{
  border-color:rgba(250,204,21,.75);
}
.capOpt img{
  width:100%;
  height:44px;
  object-fit:cover;
  border-radius:10px;
}

.capReset{
  margin-top:10px;
  width:100%;
  border:none;
  background:rgba(250,204,21,.12);
  color:var(--yellow);
  border-radius:12px;
  padding:10px;
  font-weight:900;
  cursor:pointer;
}
.capReset:hover{background:rgba(250,204,21,.18)}
